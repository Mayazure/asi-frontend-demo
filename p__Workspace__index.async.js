"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[365],{13094:function(V,P,s){s.r(P),s.d(P,{default:function(){return Te}});var K=s(48305),p=s.n(K),y={workspaceContainer:"workspaceContainer___nOWQ2",menuBar:"menuBar___sJxXf",missionPane:"missionPane___wrFhh",sideBar:"sideBar___B3lKL"},v=s(75271),x=s(46516),M=s(86551),Z=s(64630),X=s(18645),_=s(37322),j=s(92305),G=s(83475),I=s(97407),H=s(90228),T=s.n(H),J=s(87999),N=s.n(J),u=s(7863),Q=function(){var c=N()(T()().mark(function a(){return T()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,u.request)("/api/mission",{params:{}}));case 1:case"end":return i.stop()}},a)}));return function(){return c.apply(this,arguments)}}(),Y=function(){var c=N()(T()().mark(function a(t){return T()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,u.request)("/api/mission/detail/".concat(t),{}));case 1:case"end":return r.stop()}},a)}));return function(t){return c.apply(this,arguments)}}(),q=s(15558),W=s.n(q),ee=s(26068),F=s.n(ee),se=s(67825),O=s.n(se),w=s(36376),ne=s(73449),te=s(77528),e=s(52676),ae=["children"],ie=["dataSource","targetKeys"],L=function(a,t){return a.includes(t)},re=function c(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return a.map(function(i){var r=i.children,n=O()(i,ae);return F()(F()({},n),{},{disabled:t.includes(n.key)||n.key.endsWith("-f"),children:c(r,t)})})},oe=function(a){var t=a.dataSource,i=a.targetKeys,r=i===void 0?[]:i,n=O()(a,ie),l=w.Z.useToken(),o=l.token,g=[];function h(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];f.forEach(function(d){g.push(d),h(d.children)})}return h(t),(0,e.jsx)(ne.Z,F()(F()({},n),{},{targetKeys:r,dataSource:g,className:"tree-transfer",render:function(d){return d.title},showSelectAll:!1,children:function(d){var R=d.direction,k=d.onItemSelect,$=d.selectedKeys;if(R==="left"){var C=[].concat(W()($),W()(r));return(0,e.jsx)("div",{style:{padding:o.paddingXS},children:(0,e.jsx)(te.Z,{blockNode:!0,checkable:!0,checkStrictly:!0,defaultExpandAll:!0,checkedKeys:C,treeData:re(t,r),onCheck:function(b,S){var m=S.node.key;k(m,!L(C,m))},onSelect:function(b,S){var m=S.node.key;k(m,!L(C,m))}})})}}}))},le=[{key:"0-0",title:"file-1.bug"},{key:"0-1-f",title:"Folder 1",children:[{key:"0-1-0",title:"A-file.pptxx"},{key:"0-1-1",title:"another-file.avi"}]},{key:"0-2",title:"file-0-2.tiga"},{key:"0-3",title:"file-250.jj"},{key:"0-4",title:"what-is-this.helloworld"}],de=function(){var a=(0,v.useState)([]),t=p()(a,2),i=t[0],r=t[1],n=function(o){r(o)};return(0,e.jsx)(oe,{dataSource:le,targetKeys:i,onChange:n})},ue=de,ce=function(a){var t=a.id,i=v.useState(null),r=p()(i,2),n=r[0],l=r[1],o=(0,u.useIntl)();(0,v.useEffect)(function(){Y(t).then(function(f){return l(f)})},[t]);var g=[{key:"2",label:o.formatMessage({id:"workspace_mission_pane_description_created",defaultMessage:"Created"}),children:n==null?void 0:n.date_created},{key:"3",label:o.formatMessage({id:"workspace_mission_pane_description_type",defaultMessage:"Type"}),children:n==null?void 0:n.type},{key:"4",label:o.formatMessage({id:"workspace_mission_pane_description_status",defaultMessage:"Status"}),children:n==null?void 0:n.status},{key:"1",label:o.formatMessage({id:"workspace_mission_pane_description_id",defaultMessage:"Mission ID"}),children:t}],h={0:(0,e.jsx)(j.Z,{status:"processing",text:o.formatMessage({id:"workspace_mission_pane_step_processing",defaultMessage:"Processing"})}),1:(0,e.jsx)(j.Z,{status:"success",text:o.formatMessage({id:"workspace_mission_pane_step_success",defaultMessage:"Success"})}),2:(0,e.jsx)(j.Z,{status:"error",text:o.formatMessage({id:"workspace_mission_pane_step_error",defaultMessage:"Error"})}),3:(0,e.jsx)(j.Z,{status:"default",text:o.formatMessage({id:"workspace_mission_pane_step_waiting",defaultMessage:"Waiting"})})};return(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,e.jsx)(G.Z,{title:n==null?void 0:n.name,items:g,style:{borderBottom:"1px solid rgb(220,220,220)",padding:"8px"}}),(0,e.jsx)("div",{style:{padding:"8px",display:"flex",flexDirection:"column",flex:1,overflow:"auto"},children:(n==null?void 0:n.status)==0?(0,e.jsxs)(I.Z,{style:{margin:"24px"},title:o.formatMessage({id:"workspace_mission_pane_file_pane_msg",defaultMessage:"Please select files and launch this mission."}),children:[(0,e.jsx)(ue,{}),(0,e.jsx)("div",{style:{margin:"16px",textAlign:"end"},children:(0,e.jsx)(Z.ZP,{children:(0,e.jsx)(u.FormattedMessage,{id:"workspace_mission_pane_launcher_launch_btn_text",defaultMessage:"Launch"})})})]}):(0,e.jsx)(e.Fragment,{children:n==null?void 0:n.steps.map(function(f,d){return(0,e.jsx)("div",{style:{marginBottom:"12px"},children:(0,e.jsx)(I.Z,{title:f.name,size:"small",children:h[f.status]},d)},d)})})})]})},me=ce,B=s(83620),fe=s(85104),ve=function(){var a=(0,u.useIntl)(),t=function(n){console.log("Success:",n)},i=function(n){console.log("Failed:",n)};return(0,e.jsxs)(B.Z,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:t,onFinishFailed:i,autoComplete:"off",children:[(0,e.jsx)(B.Z.Item,{label:a.formatMessage({id:"workspace_create_mission_modal_form_missionname_label",defaultMessage:"Mission Name"}),name:"missionName",rules:[{required:!0,message:a.formatMessage({id:"workspace_create_mission_modal_form_missionname_rule_required_msg",defaultMessage:"Please input your mission name."})}],children:(0,e.jsx)(fe.Z,{})}),(0,e.jsx)(B.Z.Item,{label:null,children:(0,e.jsx)(Z.ZP,{type:"primary",htmlType:"submit",children:(0,e.jsx)(u.FormattedMessage,{id:"workspace_create_mission_modal_form_submit_btn_text",defaultMessage:"Create Mission"})})})]})},ge=ve,he=s(69224),pe=s(77576),xe=s(27617),U=w.Z.darkAlgorithm,ye=w.Z.defaultAlgorithm,Me=function(a){var t,i=(0,u.useAntdConfigSetter)(),r=(0,u.useAntdConfig)(),n=(0,u.useIntl)(),l=[{key:"light",label:n.formatMessage({id:"theme_select_light",defaultMessage:"light"})},{key:"dark",label:n.formatMessage({id:"theme_select_dark",defaultMessage:"dark"})}],o=function(f){var d=f.key;d=="dark"?i({theme:{token:{colorBgContainer:"rgb(60,60,60)"},algorithm:[U]}}):i({theme:{token:{colorBgContainer:"rgb(255,255,255)"},algorithm:[ye]}})},g=(0,xe.U)(r==null||(t=r.theme)===null||t===void 0?void 0:t.algorithm,U)?"dark":"light";return(0,e.jsx)(he.Z,{menu:{items:l,onClick:o,activeKey:g},trigger:["click"],placement:"bottomRight",children:(0,e.jsx)(Z.ZP,{size:"small",icon:(0,e.jsx)(pe.Z,{})})})},je=Me,ke=s(78637),Ce=s(97946),Se=function(a){var t=a.missions,i=a.onMissionClick,r=a.currentMission;if(t==null||t.length===0)return(0,e.jsx)(ke.Z,{styles:{image:{height:60}},description:"No missions."});var n=t.map(function(l){return{key:l.uid,label:(0,e.jsxs)("div",{title:l.name,children:[l.status==0?(0,e.jsx)(j.Z,{status:"default"}):(0,e.jsx)(e.Fragment,{})," ",l.name]})}});return(0,e.jsx)(Ce.Z,{onClick:function(o){i==null||i(o.key)},mode:"inline",items:n})},Pe=Se,Ze=x.Z.Text;function Te(){var c=function(A){for(var z=[],D=0;D<A;D++)z.push({id:"".concat(D),name:"Mission ".concat(D)});return z},a=50,t=c(a).map(function(m,A){return{key:m.id,label:m.name}}),i=(0,u.useIntl)(),r=v.useState(null),n=p()(r,2),l=n[0],o=n[1],g=v.useState(!1),h=p()(g,2),f=h[0],d=h[1],R=v.useState(null),k=p()(R,2),$=k[0],C=k[1];(0,v.useEffect)(function(){Q().then(function(m){return C(m.missions)})},[]);var E=function(){d(!0)},b=function(){d(!1)},S=function(A){o(A)};return(0,e.jsxs)("div",{className:y.workspaceContainer,children:[(0,e.jsxs)("div",{className:y.menuBar,children:[(0,e.jsxs)(M.Z,{children:[(0,e.jsx)(Z.ZP,{size:"small",icon:(0,e.jsx)(_.Z,{}),onClick:E,children:(0,e.jsx)(u.FormattedMessage,{id:"workspace_menu_create_mission_btn_text"})}),(0,e.jsx)(X.Z,{title:i.formatMessage({id:"workspace_create_mission_modal_title",defaultMessage:"Create a new mission"}),open:f,onClose:b,onCancel:b,maskClosable:!1,footer:!1,destroyOnClose:!0,children:(0,e.jsx)("div",{style:{borderTop:"solid 1px rgb(240,240,240)",paddingTop:"16px"},children:(0,e.jsx)(ge,{})})})]}),(0,e.jsxs)(M.Z,{children:[(0,e.jsx)(je,{}),(0,e.jsx)(u.SelectLang,{reload:!1,trigger:["click"]})]})]}),(0,e.jsxs)("div",{className:y.missionPane,children:[(0,e.jsxs)("div",{className:y.sideBar,children:[(0,e.jsx)("div",{style:{overflowY:"auto",overflowX:"hidden",flex:1},children:(0,e.jsx)(Pe,{missions:$,currentMission:l,onMissionClick:S})}),(0,e.jsx)("div",{style:{padding:"8px",borderTop:"1px solid rgb(220,220,220)"},children:(0,e.jsxs)(Ze,{children:[(0,e.jsx)(u.FormattedMessage,{id:"workspace_sidebar_total_mission"}),": ",a]})})]}),l==null?(0,e.jsx)("div",{style:{padding:"12px",color:"rgb(160, 160, 160)"},children:(0,e.jsx)(u.FormattedMessage,{id:"workspace_mission_pane_null_msg",defaultMessage:"Please select a Mission from list to view"})}):(0,e.jsx)(me,{id:l})]})]})}},27617:function(V,P,s){s.d(P,{U:function(){return y}});var K=s(31759),p=s.n(K),y=function(x,M){if(x==null)return!1;if(Array.isArray(x))return x.includes(M);if(p()(x)==="object")return x.hasOwnProperty(M)}}}]);
