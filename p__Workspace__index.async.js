"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[365],{97925:function(O,b,i){i.r(b),i.d(b,{default:function(){return ue}});var T=i(48305),p=i.n(T),j={workspaceContainer:"workspaceContainer___nOWQ2",menuBar:"menuBar___sJxXf",missionPane:"missionPane___wrFhh",sideBar:"sideBar___B3lKL"},d=i(75271),B=i(14723),c=i(86551),f=i(75643),v=i(90572),k=i(37322),Z=i(83475),$=i(90228),h=i.n($),D=i(87999),w=i.n(D),W=function(){var o=w()(h()().mark(function t(){return h()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise(function(r){r({code:200,data:{missions:[{uid:"01956c11acae791894ff94d158c779c3",name:"\u6D4B\u8BD5\u7528\u9879\u76EE3",type:"transcriptome_eigenvector"},{uid:"01956c119fe27d1ea6ac245027c1cd7a",name:"\u6D4B\u8BD5\u7528\u9879\u76EE2",type:"transcriptome_eigenvector"},{uid:"01956c1192077de2a8af0927962ce621",name:"\u6D4B\u8BD5\u7528\u9879\u76EE1",type:"transcriptome_eigenvector"}]}})}));case 1:case"end":return a.stop()}},t)}));return function(){return o.apply(this,arguments)}}(),N={"01956c11acae791894ff94d158c779c3":{code:200,data:{name:"\u6D4B\u8BD5\u7528\u9879\u76EE3",type:"transcriptome_eigenvector",type_name:"\u8BA1\u7B97\u8F6C\u5F55\u7EC4\u7279\u5F81\u77E9\u9635",date_created:1741274852525249e-6,status:0,steps:[{name:"\u8F6C\u5F55\u7EC4\u57FA\u56E0\u9009\u62E9",type:"input",params:[{name:"genes",label:"\u8F6C\u5F55\u7EC4\u57FA\u56E0\u5BF9",type:"file_pair",multiple:!0}]},{name:"FastQC\u8FDB\u884C\u8D28\u63A7",type:"step"},{name:"Trimmomatic\u53BB\u63A5\u5934\u548C\u4F4E\u8D28\u91CF\u5E8F\u5217",type:"step"},{name:"HiSAT2\u5E8F\u5217\u6BD4\u5BF9",type:"step"},{name:"SamTools\uFF1ASam\u6587\u4EF6\u8F6C\u6362\u4E3ABam\u6587\u4EF6",type:"step"},{name:"\u5B9A\u91CF\u6C42\u7279\u5F81\u77E9\u9635",type:"output"}]}},"01956c119fe27d1ea6ac245027c1cd7a":{code:200,data:{name:"\u6D4B\u8BD5\u7528\u9879\u76EE2",type:"transcriptome_eigenvector",type_name:"\u8BA1\u7B97\u8F6C\u5F55\u7EC4\u7279\u5F81\u77E9\u9635",date_created:1741274849249515e-6,status:0,steps:[{name:"\u8F6C\u5F55\u7EC4\u57FA\u56E0\u9009\u62E9",type:"input",params:[{name:"genes",label:"\u8F6C\u5F55\u7EC4\u57FA\u56E0\u5BF9",type:"file_pair",multiple:!0}]},{name:"FastQC\u8FDB\u884C\u8D28\u63A7",type:"step"},{name:"Trimmomatic\u53BB\u63A5\u5934\u548C\u4F4E\u8D28\u91CF\u5E8F\u5217",type:"step"},{name:"HiSAT2\u5E8F\u5217\u6BD4\u5BF9",type:"step"},{name:"SamTools\uFF1ASam\u6587\u4EF6\u8F6C\u6362\u4E3ABam\u6587\u4EF6",type:"step"},{name:"\u5B9A\u91CF\u6C42\u7279\u5F81\u77E9\u9635",type:"output"}]}},"01956c1192077de2a8af0927962ce621":{code:200,data:{name:"\u6D4B\u8BD5\u7528\u9879\u76EE1",type:"transcriptome_eigenvector",type_name:"\u8BA1\u7B97\u8F6C\u5F55\u7EC4\u7279\u5F81\u77E9\u9635",date_created:1741274845701338e-6,status:0,steps:[{name:"\u8F6C\u5F55\u7EC4\u57FA\u56E0\u9009\u62E9",type:"input",params:[{name:"genes",label:"\u8F6C\u5F55\u7EC4\u57FA\u56E0\u5BF9",type:"file_pair",multiple:!0}]},{name:"FastQC\u8FDB\u884C\u8D28\u63A7",type:"step"},{name:"Trimmomatic\u53BB\u63A5\u5934\u548C\u4F4E\u8D28\u91CF\u5E8F\u5217",type:"step"},{name:"HiSAT2\u5E8F\u5217\u6BD4\u5BF9",type:"step"},{name:"SamTools\uFF1ASam\u6587\u4EF6\u8F6C\u6362\u4E3ABam\u6587\u4EF6",type:"step"},{name:"\u5B9A\u91CF\u6C42\u7279\u5F81\u77E9\u9635",type:"output"}]}}},H=function(){var o=w()(h()().mark(function t(n){return h()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise(function(s){s(N[n])}));case 1:case"end":return r.stop()}},t)}));return function(n){return o.apply(this,arguments)}}(),L=function(){var o=w()(h()().mark(function t(){return h()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise(function(r){r({code:200,data:{category:[{url:"dataset",label:"Dataset",type:"list"},{url:"mission",label:"Mission",type:"tree"}]}})}));case 1:case"end":return a.stop()}},t)}));return function(){return o.apply(this,arguments)}}(),y=i(7863),Q=i(27617),R=i(54375),K=i(58456),E=i(51482),A=i(89147),e=i(52676),U=E.Z.Search,V=function(t){var n=t.border,a=n===void 0?!1:n,r=d.useState([]),s=p()(r,2),l=s[0],u=s[1],M=d.useState(null),g=p()(M,2),_=g[0],x=g[1];(0,d.useEffect)(function(){L().then(function(m){u(m.data.category)})},[]);var C=function(P){x(P)},S=l.map(function(m){return{key:m.url,label:(0,e.jsx)("div",{children:m.label})}});return(0,e.jsxs)("div",{style:{border:a?"1px solid rgb(240,240,240)":"",display:"flex",flexDirection:"row"},children:[(0,e.jsx)(A.Z,{style:{maxWidth:"200px",minHeight:"400px"},onClick:function(P){C(P.key)},mode:"inline",items:S}),(0,e.jsx)("div",{style:{minWidth:"400px",padding:"16px"},children:(0,e.jsx)(U,{placeholder:"input search text",allowClear:!0,style:{width:304}})})]})},z=V,G=function(t){var n=t.param,a=n.multiple,r=a===void 0?!1:a,s=n.label,l=(0,d.useState)(null),u=p()(l,2),M=u[0],g=u[1],_=(0,d.useState)(!1),x=p()(_,2),C=x[0],S=x[1];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{style:{marginBottom:"12px"},children:s}),(0,e.jsx)(f.ZP,{onClick:function(){S(!0)},icon:(0,e.jsx)(k.Z,{}),size:"small",children:"Add File Pair"})]}),(0,e.jsx)(v.Z,{onCancel:function(){return S(!1)},destroyOnClose:!0,title:"Add File Pair",open:C,okText:"\u6DFB\u52A0",children:(0,e.jsx)(z,{border:!0})})]})},X=G,ce=function(t){var n=useIntl(),a={0:_jsx(Badge,{status:"processing",text:n.formatMessage({id:"workspace_mission_pane_step_processing",defaultMessage:"Processing"})}),1:_jsx(Badge,{status:"success",text:n.formatMessage({id:"workspace_mission_pane_step_success",defaultMessage:"Success"})}),2:_jsx(Badge,{status:"error",text:n.formatMessage({id:"workspace_mission_pane_step_error",defaultMessage:"Error"})}),3:_jsx(Badge,{status:"default",text:n.formatMessage({id:"workspace_mission_pane_step_waiting",defaultMessage:"Waiting"})})},r=t.status;return a[r]},Y=function(t){var n=t.step,a=n.name,r=n.files,s=r===void 0?[]:r;return(0,e.jsx)(R.Z,{hoverable:!0,title:a,children:s.map(function(l,u){return(0,e.jsx)(f.ZP,{type:"text",icon:(0,e.jsx)(K.Z,{}),children:l})})})},J=function(t){switch(t.type){case"file_pair":return(0,e.jsx)(X,{param:t});default:return(0,e.jsx)(e.Fragment,{})}},q=function(t){var n=(0,y.useIntl)(),a=t.step,r=a.name,s=a.params;return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(R.Z,{hoverable:!0,title:r,children:s==null?void 0:s.map(function(l){return J(l)})})})},ee=function(t){switch(t.type){case"input":return(0,e.jsx)(q,{step:t});case"step":case"output":return(0,e.jsx)(Y,{step:t});default:return(0,e.jsx)(e.Fragment,{})}},te=function(t){var n=t.id,a=d.useState(null),r=p()(a,2),s=r[0],l=r[1],u=(0,y.useIntl)();(0,d.useEffect)(function(){H(n).then(function(g){return l(g.data)})},[n]);var M=[{key:"2",label:u.formatMessage({id:"workspace_mission_pane_description_created",defaultMessage:"Created"}),children:(0,Q.j)(s==null?void 0:s.date_created)},{key:"3",label:u.formatMessage({id:"workspace_mission_pane_description_type",defaultMessage:"Type"}),children:s==null?void 0:s.type_name},{key:"4",label:u.formatMessage({id:"workspace_mission_pane_description_status",defaultMessage:"Status"}),children:s==null?void 0:s.status},{key:"1",label:u.formatMessage({id:"workspace_mission_pane_description_id",defaultMessage:"Mission ID"}),children:n}];return(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,e.jsx)(Z.Z,{title:s==null?void 0:s.name,items:M,style:{borderBottom:"1px solid rgb(220,220,220)",padding:"8px"}}),(0,e.jsx)("div",{style:{padding:"60px",display:"flex",flexDirection:"column",flex:1,overflow:"auto"},children:s==null?void 0:s.steps.map(function(g,_){return(0,e.jsx)("div",{style:{marginBottom:"24px"},children:ee(g)},_)})})]})},se=te,I=i(83620),ae=function(){var t=(0,y.useIntl)(),n=function(s){console.log("Success:",s)},a=function(s){console.log("Failed:",s)};return(0,e.jsxs)(I.Z,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:n,onFinishFailed:a,autoComplete:"off",children:[(0,e.jsx)(I.Z.Item,{label:t.formatMessage({id:"workspace_create_mission_modal_form_missionname_label",defaultMessage:"Mission Name"}),name:"missionName",rules:[{required:!0,message:t.formatMessage({id:"workspace_create_mission_modal_form_missionname_rule_required_msg",defaultMessage:"Please input your mission name."})}],children:(0,e.jsx)(E.Z,{})}),(0,e.jsx)(I.Z.Item,{label:null,children:(0,e.jsx)(f.ZP,{type:"primary",htmlType:"submit",children:(0,e.jsx)(y.FormattedMessage,{id:"workspace_create_mission_modal_form_submit_btn_text",defaultMessage:"Create Mission"})})})]})},ne=ae,ie=i(78637),re=function(t){var n=t.missions,a=t.onMissionClick,r=t.currentMission;if(n==null||n.length===0)return(0,e.jsx)(ie.Z,{styles:{image:{height:60}},description:"No missions."});var s=n.map(function(l){return{key:l.uid,label:(0,e.jsx)("div",{title:l.name,children:l.name})}});return(0,e.jsx)(A.Z,{onClick:function(u){a==null||a(u.key)},mode:"inline",items:s})},oe=re,le=B.Z.Text;function ue(){var o=(0,y.useIntl)(),t=d.useState(null),n=p()(t,2),a=n[0],r=n[1],s=d.useState(!1),l=p()(s,2),u=l[0],M=l[1],g=d.useState(null),_=p()(g,2),x=_[0],C=_[1];(0,d.useEffect)(function(){W().then(function(F){return C(F.data.missions)})},[]);var S=function(){M(!0)},m=function(){M(!1)},P=function(de){r(de)};return(0,e.jsxs)("div",{className:j.workspaceContainer,children:[(0,e.jsxs)("div",{className:j.menuBar,children:[(0,e.jsxs)(c.Z,{children:[(0,e.jsx)(f.ZP,{size:"small",icon:(0,e.jsx)(k.Z,{}),onClick:S,children:(0,e.jsx)(y.FormattedMessage,{id:"workspace_menu_create_mission_btn_text"})}),(0,e.jsx)(v.Z,{title:o.formatMessage({id:"workspace_create_mission_modal_title",defaultMessage:"Create a new mission"}),open:u,onClose:m,onCancel:m,maskClosable:!1,footer:!1,destroyOnClose:!0,children:(0,e.jsx)("div",{style:{borderTop:"solid 1px rgb(240,240,240)",paddingTop:"16px"},children:(0,e.jsx)(ne,{})})})]}),(0,e.jsx)(c.Z,{})]}),(0,e.jsxs)("div",{className:j.missionPane,children:[(0,e.jsxs)("div",{className:j.sideBar,children:[(0,e.jsx)("div",{style:{overflowY:"auto",overflowX:"hidden",flex:1},children:(0,e.jsx)(oe,{missions:x,currentMission:a,onMissionClick:P})}),(0,e.jsx)("div",{style:{padding:"8px",borderTop:"1px solid rgb(220,220,220)"},children:(0,e.jsxs)(le,{children:[(0,e.jsx)(y.FormattedMessage,{id:"workspace_sidebar_total_mission"}),": ",x==null?void 0:x.length]})})]}),a==null?(0,e.jsx)("div",{style:{padding:"12px",color:"rgb(160, 160, 160)"},children:(0,e.jsx)(y.FormattedMessage,{id:"workspace_mission_pane_null_msg",defaultMessage:"Please select a Mission from list to view"})}):(0,e.jsx)(se,{id:a})]})]})}},27617:function(O,b,i){i.d(b,{U:function(){return j},j:function(){return d}});var T=i(31759),p=i.n(T),j=function(c,f){if(c==null)return!1;if(Array.isArray(c))return c.includes(f);if(p()(c)==="object")return c.hasOwnProperty(f)},d=function(c){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(!c)return"-";var v=new Date(c*f),k=String(v.getDate()).padStart(2,"0"),Z=String(v.getMonth()+1).padStart(2,"0"),$=v.getFullYear(),h=String(v.getHours()).padStart(2,"0"),D=String(v.getMinutes()).padStart(2,"0"),w=String(v.getSeconds()).padStart(2,"0");return"".concat($,"-").concat(Z,"-").concat(k," ").concat(h,":").concat(D)}}}]);
