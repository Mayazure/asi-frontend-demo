"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[365],{13094:function(z,P,t){t.r(P),t.d(P,{default:function(){return De}});var I=t(48305),p=t.n(I),x={workspaceContainer:"workspaceContainer___nOWQ2",menuBar:"menuBar___sJxXf",missionPane:"missionPane___wrFhh",sideBar:"sideBar___B3lKL"},v=t(75271),y=t(46516),M=t(86551),b=t(64630),V=t(18645),X=t(37322),j=t(92305),G=t(83475),B=t(97407),H=t(90228),Z=t.n(H),J=t(87999),R=t.n(J),Q=function(){var u=R()(Z()().mark(function a(){return Z()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",new Promise(function(r,s){r({code:200,missions:[{uid:"a6786fb3-4983-46a2-86c0-8274a257fc1d",name:"\u6D4B\u5E8F\u4EFB\u52A12025",status:1,type:"type_a"},{uid:"d22b4c20-a5bc-46a6-991d-abedd1c91e85",name:"My Empty Mission",status:0,type:"type_b"},{uid:"741c4c38-039f-4ccc-b687-f77a13c3723a",name:"\u8D85\u957F\u4EFB\u52A1\u540D\u6D4B\u8BD5-My Empty Mission - test a super long mission for UI. \u8FD8\u6CA1\u5B8C\u5C31\u662F\u8FD9\u4E48\u957F\u3002\u8D85\u7EA7\u957F\u7684\u4EFB\u52A1\u540D\u5594\u567B\u597D\u957F\u554A",status:0,type:"type_b"}]})}));case 1:case"end":return i.stop()}},a)}));return function(){return u.apply(this,arguments)}}(),Y={"a6786fb3-4983-46a2-86c0-8274a257fc1d":{code:200,name:"\u6D4B\u5E8F\u4EFB\u52A12025",type:"type_a",status:1,date_created:1740697648,steps:[{name:"Step 1",status:1,file_log:"(UUID)",result_dir:"(UUID)"},{name:"Step 2",status:0,file_log:"(UUID)",result_dir:"(UUID)"},{name:"Another Step",status:3,file_log:"(UUID)",result_dir:"(UUID)"}]},"d22b4c20-a5bc-46a6-991d-abedd1c91e85":{code:200,name:"My Empty Mission",type:"type_b",status:0,date_created:1740697648,steps:[]},"741c4c38-039f-4ccc-b687-f77a13c3723a":{code:200,name:"\u8D85\u957F\u4EFB\u52A1\u540D\u6D4B\u8BD5-My Empty Mission - test a super long mission for UI. \u8FD8\u6CA1\u5B8C\u5C31\u662F\u8FD9\u4E48\u957F\u3002\u8D85\u7EA7\u957F\u7684\u4EFB\u52A1\u540D\u5594\u567B\u597D\u957F\u554A",type:"type_b",status:0,date_created:1740697648,steps:[]}},q=function(){var u=R()(Z()().mark(function a(n){return Z()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise(function(s){s(Y[n])}));case 1:case"end":return r.stop()}},a)}));return function(n){return u.apply(this,arguments)}}(),ee=t(15558),$=t.n(ee),se=t(26068),D=t.n(se),te=t(67825),N=t.n(te),U=t(36376),ne=t(73449),ae=t(77528),e=t(52676),ie=["children"],re=["dataSource","targetKeys"],W=function(a,n){return a.includes(n)},oe=function u(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return a.map(function(i){var r=i.children,s=N()(i,ie);return D()(D()({},s),{},{disabled:n.includes(s.key)||s.key.endsWith("-f"),children:u(r,n)})})},le=function(a){var n=a.dataSource,i=a.targetKeys,r=i===void 0?[]:i,s=N()(a,re),l=U.Z.useToken(),o=l.token,g=[];function h(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];f.forEach(function(d){g.push(d),h(d.children)})}return h(n),(0,e.jsx)(ne.Z,D()(D()({},s),{},{targetKeys:r,dataSource:g,className:"tree-transfer",render:function(d){return d.title},showSelectAll:!1,children:function(d){var w=d.direction,k=d.onItemSelect,E=d.selectedKeys;if(w==="left"){var C=[].concat($()(E),$()(r));return(0,e.jsx)("div",{style:{padding:o.paddingXS},children:(0,e.jsx)(ae.Z,{blockNode:!0,checkable:!0,checkStrictly:!0,defaultExpandAll:!0,checkedKeys:C,treeData:oe(n,r),onCheck:function(T,S){var c=S.node.key;k(c,!W(C,c))},onSelect:function(T,S){var c=S.node.key;k(c,!W(C,c))}})})}}}))},de=[{key:"0-0",title:"file-1.bug"},{key:"0-1-f",title:"Folder 1",children:[{key:"0-1-0",title:"A-file.pptxx"},{key:"0-1-1",title:"another-file.avi"}]},{key:"0-2",title:"file-0-2.tiga"},{key:"0-3",title:"file-250.jj"},{key:"0-4",title:"what-is-this.helloworld"}],ue=function(){var a=(0,v.useState)([]),n=p()(a,2),i=n[0],r=n[1],s=function(o){r(o)};return(0,e.jsx)(le,{dataSource:de,targetKeys:i,onChange:s})},ce=ue,m=t(7863),me=function(a){var n=a.id,i=v.useState(null),r=p()(i,2),s=r[0],l=r[1],o=(0,m.useIntl)();(0,v.useEffect)(function(){q(n).then(function(f){return l(f)})},[n]);var g=[{key:"2",label:o.formatMessage({id:"workspace_mission_pane_description_created",defaultMessage:"Created"}),children:s==null?void 0:s.date_created},{key:"3",label:o.formatMessage({id:"workspace_mission_pane_description_type",defaultMessage:"Type"}),children:s==null?void 0:s.type},{key:"4",label:o.formatMessage({id:"workspace_mission_pane_description_status",defaultMessage:"Status"}),children:s==null?void 0:s.status},{key:"1",label:o.formatMessage({id:"workspace_mission_pane_description_id",defaultMessage:"Mission ID"}),children:n}],h={0:(0,e.jsx)(j.Z,{status:"processing",text:o.formatMessage({id:"workspace_mission_pane_step_processing",defaultMessage:"Processing"})}),1:(0,e.jsx)(j.Z,{status:"success",text:o.formatMessage({id:"workspace_mission_pane_step_success",defaultMessage:"Success"})}),2:(0,e.jsx)(j.Z,{status:"error",text:o.formatMessage({id:"workspace_mission_pane_step_error",defaultMessage:"Error"})}),3:(0,e.jsx)(j.Z,{status:"default",text:o.formatMessage({id:"workspace_mission_pane_step_waiting",defaultMessage:"Waiting"})})};return(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,e.jsx)(G.Z,{title:s==null?void 0:s.name,items:g,style:{borderBottom:"1px solid rgb(220,220,220)",padding:"8px"}}),(0,e.jsx)("div",{style:{padding:"8px",display:"flex",flexDirection:"column",flex:1,overflow:"auto"},children:(s==null?void 0:s.status)==0?(0,e.jsxs)(B.Z,{style:{margin:"24px"},title:o.formatMessage({id:"workspace_mission_pane_file_pane_msg",defaultMessage:"Please select files and launch this mission."}),children:[(0,e.jsx)(ce,{}),(0,e.jsx)("div",{style:{margin:"16px",textAlign:"end"},children:(0,e.jsx)(b.ZP,{children:(0,e.jsx)(m.FormattedMessage,{id:"workspace_mission_pane_launcher_launch_btn_text",defaultMessage:"Launch"})})})]}):(0,e.jsx)(e.Fragment,{children:s==null?void 0:s.steps.map(function(f,d){return(0,e.jsx)("div",{style:{marginBottom:"12px"},children:(0,e.jsx)(B.Z,{title:f.name,size:"small",children:h[f.status]},d)},d)})})})]})},fe=me,_=t(83620),ve=t(85104),ge=function(){var a=(0,m.useIntl)(),n=function(s){console.log("Success:",s)},i=function(s){console.log("Failed:",s)};return(0,e.jsxs)(_.Z,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:n,onFinishFailed:i,autoComplete:"off",children:[(0,e.jsx)(_.Z.Item,{label:a.formatMessage({id:"workspace_create_mission_modal_form_missionname_label",defaultMessage:"Mission Name"}),name:"missionName",rules:[{required:!0,message:a.formatMessage({id:"workspace_create_mission_modal_form_missionname_rule_required_msg",defaultMessage:"Please input your mission name."})}],children:(0,e.jsx)(ve.Z,{})}),(0,e.jsx)(_.Z.Item,{label:null,children:(0,e.jsx)(b.ZP,{type:"primary",htmlType:"submit",children:(0,e.jsx)(m.FormattedMessage,{id:"workspace_create_mission_modal_form_submit_btn_text",defaultMessage:"Create Mission"})})})]})},he=ge,pe=t(69224),ye=t(77576),xe=t(27617),O=U.Z.darkAlgorithm,Me=U.Z.defaultAlgorithm,je=function(a){var n,i=(0,m.useAntdConfigSetter)(),r=(0,m.useAntdConfig)(),s=(0,m.useIntl)(),l=[{key:"light",label:s.formatMessage({id:"theme_select_light",defaultMessage:"light"})},{key:"dark",label:s.formatMessage({id:"theme_select_dark",defaultMessage:"dark"})}],o=function(f){var d=f.key;d=="dark"?i({theme:{token:{colorBgContainer:"rgb(60,60,60)"},algorithm:[O]}}):i({theme:{token:{colorBgContainer:"rgb(255,255,255)"},algorithm:[Me]}})},g=(0,xe.U)(r==null||(n=r.theme)===null||n===void 0?void 0:n.algorithm,O)?"dark":"light";return(0,e.jsx)(pe.Z,{menu:{items:l,onClick:o,activeKey:g},trigger:["click"],placement:"bottomRight",children:(0,e.jsx)(b.ZP,{size:"small",icon:(0,e.jsx)(ye.Z,{})})})},ke=je,Ce=t(78637),Se=t(97946),Pe=function(a){var n=a.missions,i=a.onMissionClick,r=a.currentMission;if(n==null||n.length===0)return(0,e.jsx)(Ce.Z,{styles:{image:{height:60}},description:"No missions."});var s=n.map(function(l){return{key:l.uid,label:(0,e.jsxs)("div",{title:l.name,children:[l.status==0?(0,e.jsx)(j.Z,{status:"default"}):(0,e.jsx)(e.Fragment,{})," ",l.name]})}});return(0,e.jsx)(Se.Z,{onClick:function(o){i==null||i(o.key)},mode:"inline",items:s})},be=Pe,Ze=y.Z.Text;function De(){var u=function(F){for(var L=[],A=0;A<F;A++)L.push({id:"".concat(A),name:"Mission ".concat(A)});return L},a=50,n=u(a).map(function(c,F){return{key:c.id,label:c.name}}),i=(0,m.useIntl)(),r=v.useState(null),s=p()(r,2),l=s[0],o=s[1],g=v.useState(!1),h=p()(g,2),f=h[0],d=h[1],w=v.useState(null),k=p()(w,2),E=k[0],C=k[1];(0,v.useEffect)(function(){Q().then(function(c){return C(c.missions)})},[]);var K=function(){d(!0)},T=function(){d(!1)},S=function(F){o(F)};return(0,e.jsxs)("div",{className:x.workspaceContainer,children:[(0,e.jsxs)("div",{className:x.menuBar,children:[(0,e.jsxs)(M.Z,{children:[(0,e.jsx)(b.ZP,{size:"small",icon:(0,e.jsx)(X.Z,{}),onClick:K,children:(0,e.jsx)(m.FormattedMessage,{id:"workspace_menu_create_mission_btn_text"})}),(0,e.jsx)(V.Z,{title:i.formatMessage({id:"workspace_create_mission_modal_title",defaultMessage:"Create a new mission"}),open:f,onClose:T,onCancel:T,maskClosable:!1,footer:!1,destroyOnClose:!0,children:(0,e.jsx)("div",{style:{borderTop:"solid 1px rgb(240,240,240)",paddingTop:"16px"},children:(0,e.jsx)(he,{})})})]}),(0,e.jsxs)(M.Z,{children:[(0,e.jsx)(ke,{}),(0,e.jsx)(m.SelectLang,{reload:!1,trigger:["click"]})]})]}),(0,e.jsxs)("div",{className:x.missionPane,children:[(0,e.jsxs)("div",{className:x.sideBar,children:[(0,e.jsx)("div",{style:{overflowY:"auto",overflowX:"hidden",flex:1},children:(0,e.jsx)(be,{missions:E,currentMission:l,onMissionClick:S})}),(0,e.jsx)("div",{style:{padding:"8px",borderTop:"1px solid rgb(220,220,220)"},children:(0,e.jsxs)(Ze,{children:[(0,e.jsx)(m.FormattedMessage,{id:"workspace_sidebar_total_mission"}),": ",a]})})]}),l==null?(0,e.jsx)("div",{style:{padding:"12px",color:"rgb(160, 160, 160)"},children:(0,e.jsx)(m.FormattedMessage,{id:"workspace_mission_pane_null_msg",defaultMessage:"Please select a Mission from list to view"})}):(0,e.jsx)(fe,{id:l})]})]})}},27617:function(z,P,t){t.d(P,{U:function(){return x}});var I=t(31759),p=t.n(I),x=function(y,M){if(y==null)return!1;if(Array.isArray(y))return y.includes(M);if(p()(y)==="object")return y.hasOwnProperty(M)}}}]);
