"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[58],{83742:function(it,F,s){s.r(F),s.d(F,{default:function(){return tt}});var R=s(26068),$=s.n(R),E=s(48305),M=s.n(E),j=s(41699),A=s(80846),Z=s(35724),O=s(97033),o=s(96773),G=function(t){var n=t.width,e=t.height,i=t.left,l=t.top,d=t.curve,h=t.zIndex,r=h===void 0?1:h,a=t.strokeWidth,c=t.strokeColor,f=t.fill,u=f===void 0?"transparent":f,y=d.mx,k=d.my,S=d.cx1,g=d.cy1,v=d.cx2,x=d.cy2,C=d.cx,m=d.cy;return(0,o.jsxs)("svg",{width:n+2*a,height:e+2*a,xmlns:"http://www.w3.org/2000/svg",pointerEvents:"none",style:{position:"fixed",transform:"translate(".concat(i-a,"px,").concat(l-a,"px)"),zIndex:r},children:[(0,o.jsx)("path",{id:"".concat(S).concat(g),d:"M ".concat(y+a," ").concat(k+a," C ").concat(S," ").concat(g,", ").concat(v," ").concat(x,", ").concat(C+a," ").concat(m+a),strokeWidth:a,stroke:c,fill:u,pointerEvents:"visibleStroke"}),(0,o.jsx)("circle",{r:"3",fill:"black",children:(0,o.jsx)("animateMotion",{repeatCount:"indefinite",dur:"3s",children:(0,o.jsx)("mpath",{href:"#".concat(S).concat(g)})})})]})},P=G,B=function(t){var n=t.r,e=t.strokeWidth,i=t.zIndex,l=i===void 0?999:i,d=t.left,h=t.top,r=t.strokeColor,a=r===void 0?"black":r,c=t.fill,f=c===void 0?"rgb(140,140,140)":c,u=n+e,y=u*2;return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:y,height:y,style:{position:"fixed",zIndex:l,transform:"translate(".concat(d-u,"px,").concat(h-u,"px)")},children:(0,o.jsx)("circle",{r:n,fill:f,stroke:a,strokeWidth:e,cx:u,cy:u})})},D=B,U=function(t,n){var e=Math.abs(t.x-n.x),i=Math.abs(t.y-n.y),l=t.x<n.x?0:e,d=t.y<n.y?0:i,h=t.x<n.x?e:0,r=t.y<n.y?i:0,a=t.direction=="horizontal"?e/2:l,c=t.direction=="horizontal"?d:i/2,f=n.direction=="horizontal"?e/2:h,u=n.direction=="horizontal"?r:i/2;return{mx:l,my:d,cx1:a,cy1:c,cx2:f,cy2:u,cx:h,cy:r}},J=function(t){var n=t.startConnector,e=t.endConnector,i=t.edgeStroke,l=i===void 0?2:i,d=t.edgeColor,h=d===void 0?"black":d,r=t.connectorR,a=r===void 0?3:r,c=t.connectorStroke,f=c===void 0?1:c,u=t.connectorStrokeColor,y=u===void 0?"black":u,k=t.connectorFill,S=k===void 0?"rgb(140,140,140)":k,g=n.node.connector(n.position),v=e.node.connector(e.position),x=n.node.zIndex+1,C=e.node.zIndex+1,m=Math.max(x,C)+1,z=Math.abs(g.x-v.x),et=Math.abs(g.y-v.y),ot=Math.min(g.x,v.x),nt=Math.min(g.y,v.y),rt=U(g,v);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(P,{width:z,height:et,left:ot,top:nt,curve:rt,strokeWidth:l,strokeColor:h,zIndex:m}),(0,o.jsx)(D,{r:a,left:g.x,top:g.y,zIndex:x,strokeWidth:f,strokeColor:y,fill:S}),(0,o.jsx)(D,{r:a,left:v.x,top:v.y,zIndex:C,strokeWidth:f,strokeColor:y,fill:S})]})},W=J,T=s(25298),X=s.n(T),Y=s(17069),H=s.n(Y),L=s(82092),b=s.n(L),I=function(){function p(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;X()(this,p),b()(this,"key",void 0),b()(this,"left",void 0),b()(this,"top",void 0),b()(this,"right",void 0),b()(this,"bottom",void 0),b()(this,"dom",void 0),b()(this,"zIndex",void 0),b()(this,"init",void 0),this.key=t,this.left=n,this.top=e,this.zIndex=i,this.init=!1}return H()(p,[{key:"move",value:function(n,e){this.left+=n,this.top+=e,this.right=this.left+parseFloat(window.getComputedStyle(this.dom).width),this.bottom=this.top+parseFloat(window.getComputedStyle(this.dom).height)}},{key:"isBound",value:function(){return this.bottom!=null&&this.right!=null}},{key:"bind",value:function(n){this.init=!0,this.dom=n,this.right=this.left+parseFloat(window.getComputedStyle(this.dom).width),this.bottom=this.top+parseFloat(window.getComputedStyle(this.dom).height)}},{key:"connector",value:function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5,i=["left","right"].includes(n)?"horizontal":"vertical";switch(n){case"left":return{direction:i,x:this.left,y:this.top+(this.bottom-this.top)*e};case"right":return{direction:i,x:this.right,y:this.top+(this.bottom-this.top)*e};case"top":return{direction:i,x:this.left+(this.right-this.left)*e,y:this.top};case"bottom":return{direction:i,x:this.left+(this.right-this.left)*e,y:this.bottom}}}}]),p}(),Q=function(t){var n=t.children,e=t.node,i=t.onNodeSelected,l=t.ref,d=t.moving,h=d===void 0?!1:d;return(0,o.jsx)("div",{id:e.key,ref:function(a){a&&(e.bind(a),l.current[e.key]=a)},style:{zIndex:e.zIndex,position:"fixed",transform:"translate(".concat(e.left,"px,").concat(e.top,"px)"),cursor:h?"grabbing":"grab"},onMouseDown:function(){return i==null?void 0:i(e.key)},children:n},e.key)},N=Q,V=s(15558),w=s.n(V),K=function(t){var n=t.nodes,e=n===void 0?[]:n,i=t.onNodeSelected,l={top:60,left:20,right:20,bottom:20},d=Math.min.apply(Math,w()(e.map(function(c){return c.top})))-l.top,h=Math.max.apply(Math,w()(e.map(function(c){return c.bottom})))+l.bottom,r=Math.min.apply(Math,w()(e.map(function(c){return c.left})))-l.left,a=Math.max.apply(Math,w()(e.map(function(c){return c.right})))+l.right;return(0,o.jsx)("div",{style:{zIndex:-1,background:"rgba(255,176,124, 0.5)",border:"solid 1px rgb(0,0,0)",width:"".concat(a-r,"px"),height:"".concat(h-d,"px"),position:"fixed",transform:"translate(".concat(r,"px, ").concat(d,"px)"),cursor:"move",padding:"8px"},onMouseDown:function(){return i==null?void 0:i(e.map(function(f){return f.key}))},children:"Group"})},q=K,_=function(){var t=(0,j.useState)([]),n=M()(t,2),e=n[0],i=n[1],l=(0,j.useRef)({}),d=(0,j.useState)({node0:new I("node0",40,40,20),node1:new I("node1",400,300,30),node2:new I("node2",800,300,40)}),h=M()(d,2),r=h[0],a=h[1],c=(0,j.useState)(0),f=M()(c,2),u=f[0],y=f[1];(0,j.useEffect)(function(){return Object.values(r).every(function(v){return v.isBound()})?y(u+1):y(0),function(){y(0)}},[]);var k=function(x){Array.isArray(x)?i(x):i([x])},S=function(){e.length>0&&i([])},g=function(x){if(e.length>0){var C=Object.fromEntries(e.map(function(m){var z=r[m];return z.move(x.movementX,x.movementY),[m,z]}));a($()($()({},r),C))}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:{margin:"8px"},children:"Drag component to move."}),(0,o.jsxs)("div",{style:{background:"rgb(240,240,240)",height:"600px",width:"100%",overflow:"auto",contain:"paint"},onMouseMove:g,onMouseUp:S,children:[(0,o.jsx)(N,{node:r.node0,onNodeSelected:k,ref:l,moving:e.includes(r.node0.key),children:(0,o.jsx)("div",{style:{background:"rgba(240,149,255,0.5)",border:"solid 1px rgb(0,0,0)",padding:"24px"},children:"Input"})}),(0,o.jsx)(N,{node:r.node1,onNodeSelected:k,ref:l,moving:e.includes(r.node1.key),children:(0,o.jsxs)(A.Z,{direction:"vertical",style:{background:"rgba(240,149,255,0.9)",border:"solid 1px rgb(0,0,0)",width:"100%",height:"100%",padding:"12px"},children:["Step 1",(0,o.jsx)(Z.Z,{placeholder:"Data"}),(0,o.jsx)(O.Z,{})]})}),(0,o.jsx)(N,{node:r.node2,onNodeSelected:k,ref:l,moving:e.includes(r.node2.key),children:(0,o.jsx)("div",{style:{background:"rgba(240,149,255,0.9)",border:"solid 1px rgb(0,0,0)",padding:"8px"},children:"step 2"})}),u&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(W,{startConnector:{node:r.node0,position:"right"},endConnector:{node:r.node1,position:"left"},connectorR:4,connectorStroke:1,edgeStroke:2,connectorFill:"rgb(176,43, 201)"}),(0,o.jsx)(W,{startConnector:{node:r.node0,position:"right"},endConnector:{node:r.node2,position:"left"},connectorR:4,connectorStroke:1,edgeStroke:2,connectorFill:"rgb(176,43, 201)"})]}),(0,o.jsx)(q,{nodes:[r.node1,r.node2],onNodeSelected:k})]}),(0,o.jsxs)("div",{children:["Moving: ",JSON.stringify(e)]}),(0,o.jsxs)("div",{children:[Object.entries(r).map(function(v){var x=M()(v,2),C=x[0],m=x[1];return(0,o.jsxs)("div",{children:[C,": ",JSON.stringify({key:m.key,left:m.left,top:m.top,right:m.right,bottom:m.bottom})]},C)}),(0,o.jsx)("hr",{})]})]})},tt=_}}]);
