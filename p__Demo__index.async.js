"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[58],{83742:function(rt,F,l){l.r(F),l.d(F,{default:function(){return tt}});var R=l(26068),D=l.n(R),E=l(48305),M=l.n(E),j=l(41699),A=l(80846),O=l(35724),Z=l(97033),o=l(96773),G=function(t){var n=t.width,e=t.height,i=t.left,a=t.top,d=t.curve,c=t.strokeWidth,r=t.strokeColor,h=t.fill,s=h===void 0?"transparent":h,g=d.mx,u=d.my,f=d.cx1,x=d.cy1,b=d.cx2,y=d.cy2,v=d.cx,m=d.cy;return(0,o.jsxs)("svg",{width:n+2*c,height:e+2*c,xmlns:"http://www.w3.org/2000/svg",pointerEvents:"none",style:{position:"fixed",transform:"translate(".concat(i-c,"px,").concat(a-c,"px)")},children:[(0,o.jsx)("path",{id:"".concat(f).concat(x),d:"M ".concat(g+c," ").concat(u+c," C ").concat(f," ").concat(x,", ").concat(b," ").concat(y,", ").concat(v+c," ").concat(m+c),strokeWidth:c,stroke:r,fill:s,pointerEvents:"visibleStroke"}),(0,o.jsx)("circle",{r:"3",fill:"black",children:(0,o.jsx)("animateMotion",{repeatCount:"indefinite",dur:"3s",children:(0,o.jsx)("mpath",{href:"#".concat(f).concat(x)})})})]})},B=G,U=function(t){var n=t.r,e=t.strokeWidth,i=t.zIndex,a=i===void 0?999:i,d=t.left,c=t.top,r=t.strokeColor,h=r===void 0?"black":r,s=t.fill,g=s===void 0?"rgb(140,140,140)":s,u=n+e,f=u*2;return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:f,height:f,style:{position:"fixed",zIndex:a,transform:"translate(".concat(d-u,"px,").concat(c-u,"px)")},children:(0,o.jsx)("circle",{r:n,fill:g,stroke:h,strokeWidth:e,cx:u,cy:u})})},$=U,J=function(t,n,e,i){var a=Math.abs(t.x-n.x),d=Math.abs(t.y-n.y),c=t.x<n.x?0:a,r=t.y<n.y?0:d,h=t.x<n.x?a:0,s=t.y<n.y?d:0,g=["left","right"].includes(e)?a/2:c,u=["left","right"].includes(e)?r:d/2,f=["left","right"].includes(i)?a/2:h,x=["left","right"].includes(i)?s:d/2;return{mx:c,my:r,cx1:g,cy1:u,cx2:f,cy2:x,cx:h,cy:s}},P=function(t){var n=t.startConnector,e=t.endConnector,i=t.edgeStroke,a=i===void 0?2:i,d=t.edgeColor,c=d===void 0?"black":d,r=t.connectorR,h=r===void 0?3:r,s=t.connectorStroke,g=s===void 0?1:s,u=t.connectorStrokeColor,f=u===void 0?"black":u,x=t.connectorFill,b=x===void 0?"rgb(140,140,140)":x,y=n.node.connector(n.position),v=e.node.connector(e.position),m=n.node.zIndex+1,S=e.node.zIndex+1,k=Math.abs(y.x-v.x),I=Math.abs(y.y-v.y),et=Math.min(y.x,v.x),ot=Math.min(y.y,v.y),nt=J(y,v,n.position,e.position);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(B,{width:k,height:I,left:et,top:ot,curve:nt,strokeWidth:a,strokeColor:c}),(0,o.jsx)($,{r:h,left:y.x,top:y.y,zIndex:m,strokeWidth:g,strokeColor:f,fill:b}),(0,o.jsx)($,{r:h,left:v.x,top:v.y,zIndex:S,strokeWidth:g,strokeColor:f,fill:b})]})},W=P,T=l(25298),X=l.n(T),Y=l(17069),H=l.n(Y),L=l(82092),C=l.n(L),N=function(){function p(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;X()(this,p),C()(this,"key",void 0),C()(this,"left",void 0),C()(this,"top",void 0),C()(this,"right",void 0),C()(this,"bottom",void 0),C()(this,"dom",void 0),C()(this,"zIndex",void 0),C()(this,"init",void 0),this.key=t,this.left=n,this.top=e,this.zIndex=i,this.init=!1}return H()(p,[{key:"move",value:function(n,e){this.left+=n,this.top+=e,this.right=this.left+parseFloat(window.getComputedStyle(this.dom).width),this.bottom=this.top+parseFloat(window.getComputedStyle(this.dom).height)}},{key:"isBound",value:function(){return this.bottom!=null&&this.right!=null}},{key:"bind",value:function(n){this.init=!0,this.dom=n,this.right=this.left+parseFloat(window.getComputedStyle(this.dom).width),this.bottom=this.top+parseFloat(window.getComputedStyle(this.dom).height)}},{key:"connector",value:function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5,i=["left","right"].includes(n)?"horizontal":"vertical";switch(n){case"left":return{direction:i,x:this.left,y:this.top+(this.bottom-this.top)*e};case"right":return{direction:i,x:this.right,y:this.top+(this.bottom-this.top)*e};case"top":return{direction:i,x:this.left+(this.right-this.left)*e,y:this.top};case"bottom":return{direction:i,x:this.left+(this.right-this.left)*e,y:this.bottom}}}}]),p}(),Q=function(t){var n=t.children,e=t.node,i=t.onNodeSelected,a=t.ref,d=t.moving,c=d===void 0?!1:d;return(0,o.jsx)("div",{id:e.key,ref:function(h){h&&(e.bind(h),a.current[e.key]=h)},style:{zIndex:e.zIndex,position:"fixed",transform:"translate(".concat(e.left,"px,").concat(e.top,"px)"),cursor:c?"grabbing":"grab"},onMouseDown:function(){return i==null?void 0:i(e.key)},children:n},e.key)},z=Q,V=l(15558),w=l.n(V),K=function(t){var n=t.nodes,e=n===void 0?[]:n,i=t.onNodeSelected,a={top:60,left:20,right:20,bottom:20},d=Math.min.apply(Math,w()(e.map(function(s){return s.top})))-a.top,c=Math.max.apply(Math,w()(e.map(function(s){return s.bottom})))+a.bottom,r=Math.min.apply(Math,w()(e.map(function(s){return s.left})))-a.left,h=Math.max.apply(Math,w()(e.map(function(s){return s.right})))+a.right;return(0,o.jsx)("div",{style:{zIndex:-1,background:"rgba(255,176,124, 0.5)",border:"solid 1px rgb(0,0,0)",width:"".concat(h-r,"px"),height:"".concat(c-d,"px"),position:"fixed",transform:"translate(".concat(r,"px, ").concat(d,"px)"),cursor:"move",padding:"8px"},onMouseDown:function(){return i==null?void 0:i(e.map(function(g){return g.key}))},children:"Group"})},q=K,_=function(){var t=(0,j.useState)([]),n=M()(t,2),e=n[0],i=n[1],a=(0,j.useRef)({}),d=(0,j.useState)({node0:new N("node0",40,40,20),node1:new N("node1",400,300,30),node2:new N("node2",800,300,40)}),c=M()(d,2),r=c[0],h=c[1],s=(0,j.useState)(0),g=M()(s,2),u=g[0],f=g[1];(0,j.useEffect)(function(){return Object.values(r).every(function(v){return v.isBound()})?f(u+1):f(0),function(){f(0)}},[]);var x=function(m){Array.isArray(m)?i(m):i([m])},b=function(){e.length>0&&i([])},y=function(m){if(e.length>0){var S=Object.fromEntries(e.map(function(k){var I=r[k];return I.move(m.movementX,m.movementY),[k,I]}));h(D()(D()({},r),S))}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:{margin:"8px"},children:"Drag component to move."}),(0,o.jsxs)("div",{style:{background:"rgb(240,240,240)",height:"600px",width:"100%",overflow:"auto",contain:"paint"},onMouseMove:y,onMouseUp:b,children:[(0,o.jsx)(z,{node:r.node0,onNodeSelected:x,ref:a,moving:e.includes(r.node0.key),children:(0,o.jsx)("div",{style:{background:"rgba(240,149,255,0.5)",border:"solid 1px rgb(0,0,0)",padding:"24px"},children:"Input"})}),(0,o.jsx)(z,{node:r.node1,onNodeSelected:x,ref:a,moving:e.includes(r.node1.key),children:(0,o.jsxs)(A.Z,{direction:"vertical",style:{background:"rgba(240,149,255,0.9)",border:"solid 1px rgb(0,0,0)",width:"100%",height:"100%",padding:"12px"},children:["Step 1",(0,o.jsx)(O.Z,{placeholder:"Data"}),(0,o.jsx)(Z.Z,{})]})}),(0,o.jsx)(z,{node:r.node2,onNodeSelected:x,ref:a,moving:e.includes(r.node2.key),children:(0,o.jsx)("div",{style:{background:"rgba(240,149,255,0.9)",border:"solid 1px rgb(0,0,0)",padding:"8px"},children:"step 2"})}),u&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(W,{startConnector:{node:r.node0,position:"right"},endConnector:{node:r.node1,position:"left"},connectorR:4,connectorStroke:1,edgeStroke:2,connectorFill:"rgb(176,43, 201)"}),(0,o.jsx)(W,{startConnector:{node:r.node0,position:"right"},endConnector:{node:r.node2,position:"left"},connectorR:4,connectorStroke:1,edgeStroke:2,connectorFill:"rgb(176,43, 201)"})]}),(0,o.jsx)(q,{nodes:[r.node1,r.node2],onNodeSelected:x})]}),(0,o.jsxs)("div",{children:["Moving: ",JSON.stringify(e)]}),(0,o.jsxs)("div",{children:[Object.entries(r).map(function(v){var m=M()(v,2),S=m[0],k=m[1];return(0,o.jsxs)("div",{children:[S,": ",JSON.stringify({key:k.key,left:k.left,top:k.top,right:k.right,bottom:k.bottom})]},S)}),(0,o.jsx)("hr",{})]})]})},tt=_}}]);
