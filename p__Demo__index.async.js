"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[58],{83742:function(de,D,h){h.r(D),h.d(D,{default:function(){return te}});var E=h(26068),$=h.n(E),O=h(48305),N=h.n(O),I=h(41699),R=h(80846),A=h(35724),P=h(97033),B=h(16815),t=h(96773),G=function(e){var r=e.width,n=e.height,i=e.left,l=e.top,c=e.curve,u=e.zIndex,o=u===void 0?1:u,d=e.strokeWidth,f=e.strokeColor,x=e.fill,g=x===void 0?"transparent":x,b=c.mx,m=c.my,a=c.cx1,p=c.cy1,s=c.cx2,v=c.cy2,k=c.cx,y=c.cy;return(0,t.jsxs)("svg",{width:r+2*d,height:n+2*d,xmlns:"http://www.w3.org/2000/svg",pointerEvents:"none",style:{position:"fixed",transform:"translate(".concat(i-d,"px,").concat(l-d,"px)"),zIndex:o},children:[(0,t.jsx)("path",{id:"".concat(a).concat(p),d:"M ".concat(b+d," ").concat(m+d," C ").concat(a," ").concat(p,", ").concat(s," ").concat(v,", ").concat(k+d," ").concat(y+d),strokeWidth:d,stroke:f,fill:g,pointerEvents:"visibleStroke"}),(0,t.jsx)("circle",{r:"3",fill:"black",children:(0,t.jsx)("animateMotion",{repeatCount:"indefinite",dur:"3s",children:(0,t.jsx)("mpath",{href:"#".concat(a).concat(p)})})})]})},U=G,J=function(e){var r=e.r,n=e.strokeWidth,i=e.zIndex,l=i===void 0?999:i,c=e.left,u=e.top,o=e.strokeColor,d=o===void 0?"black":o,f=e.fill,x=f===void 0?"rgb(140,140,140)":f,g=r+n,b=g*2;return(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:b,height:b,style:{position:"fixed",zIndex:l,transform:"translate(".concat(c-g,"px,").concat(u-g,"px)")},children:(0,t.jsx)("circle",{r,fill:x,stroke:d,strokeWidth:n,cx:g,cy:g})})},W=J,K=function(e,r){var n=Math.abs(e.x-r.x),i=Math.abs(e.y-r.y),l=e.x<r.x?0:n,c=e.y<r.y?0:i,u=e.x<r.x?n:0,o=e.y<r.y?i:0,d=e.direction=="horizontal"?n/2:l,f=e.direction=="horizontal"?c:i/2,x=r.direction=="horizontal"?n/2:u,g=r.direction=="horizontal"?o:i/2;return{mx:l,my:c,cx1:d,cy1:f,cx2:x,cy2:g,cx:u,cy:o}},T=function(e){var r=e.startConnector,n=e.endConnector,i=e.edgeStroke,l=i===void 0?2:i,c=e.edgeColor,u=c===void 0?"black":c,o=e.connectorR,d=o===void 0?3:o,f=e.connectorStroke,x=f===void 0?1:f,g=e.connectorStrokeColor,b=g===void 0?"black":g,m=e.connectorFill,a=m===void 0?"rgb(140,140,140)":m,p=r.node.connector(r.position,r.fraction),s=n.node.connector(n.position,n.fraction),v=r.node.zIndex+1,k=n.node.zIndex+1,y=Math.max(v,k)+1,F=Math.abs(p.x-s.x),oe=Math.abs(p.y-s.y),ne=Math.min(p.x,s.x),re=Math.min(p.y,s.y),ie=K(p,s);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(U,{width:F,height:oe,left:ne,top:re,curve:ie,strokeWidth:l,strokeColor:u,zIndex:y}),(0,t.jsx)(W,{r:d,left:p.x,top:p.y,zIndex:v,strokeWidth:x,strokeColor:b,fill:a}),(0,t.jsx)(W,{r:d,left:s.x,top:s.y,zIndex:k,strokeWidth:x,strokeColor:b,fill:a})]})},j=T,X=h(25298),Y=h.n(X),H=h(17069),L=h.n(H),Q=h(82092),C=h.n(Q),M=function(){function S(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;Y()(this,S),C()(this,"key",void 0),C()(this,"left",void 0),C()(this,"top",void 0),C()(this,"right",void 0),C()(this,"bottom",void 0),C()(this,"dom",void 0),C()(this,"zIndex",void 0),C()(this,"init",void 0),this.key=e,this.left=r,this.top=n,this.zIndex=i,this.init=!1}return L()(S,[{key:"move",value:function(r,n){this.left+=r,this.top+=n,this.right=this.left+parseFloat(window.getComputedStyle(this.dom).width),this.bottom=this.top+parseFloat(window.getComputedStyle(this.dom).height)}},{key:"isBound",value:function(){return this.bottom!=null&&this.right!=null}},{key:"bind",value:function(r){this.init=!0,this.dom=r,this.right=this.left+parseFloat(window.getComputedStyle(this.dom).width),this.bottom=this.top+parseFloat(window.getComputedStyle(this.dom).height)}},{key:"connector",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5,i=["left","right"].includes(r)?"horizontal":"vertical";switch(r){case"left":return{direction:i,x:this.left,y:this.top+(this.bottom-this.top)*n};case"right":return{direction:i,x:this.right,y:this.top+(this.bottom-this.top)*n};case"top":return{direction:i,x:this.left+(this.right-this.left)*n,y:this.top};case"bottom":return{direction:i,x:this.left+(this.right-this.left)*n,y:this.bottom}}}}]),S}(),V=function(e){var r=e.children,n=e.node,i=e.onNodeSelected,l=e.ref,c=e.moving,u=c===void 0?!1:c;return(0,t.jsx)("div",{id:n.key,ref:function(d){d&&(n.bind(d),l.current[n.key]=d)},style:{zIndex:n.zIndex,position:"fixed",transform:"translate(".concat(n.left,"px,").concat(n.top,"px)"),cursor:u?"grabbing":"grab"},onMouseDown:function(){return i==null?void 0:i(n.key)},children:r},n.key)},w=V,q=h(15558),z=h.n(q),_=function(e){var r=e.nodes,n=r===void 0?[]:r,i=e.onNodeSelected,l=e.title,c=l===void 0?"":l,u=n.filter(function(a){return!Array.isArray(a)}),o=n.filter(function(a){return Array.isArray(a)}),d=function a(p){var s=[];return p.forEach(function(v){Array.isArray(v)?s=[].concat(z()(s),z()(a(v))):s.push(v.key)}),s},f={top:60,left:20,right:20,bottom:20},x=Math.min.apply(Math,z()(u.map(function(a){return a.top})))-f.top,g=Math.max.apply(Math,z()(u.map(function(a){return a.bottom})))+f.bottom,b=Math.min.apply(Math,z()(u.map(function(a){return a.left})))-f.left,m=Math.max.apply(Math,z()(u.map(function(a){return a.right})))+f.right;return(0,t.jsx)("div",{style:{zIndex:-1,background:"rgba(255,176,124, 0.5)",border:"solid 1px rgb(0,0,0)",width:"".concat(m-b,"px"),height:"".concat(g-x,"px"),position:"fixed",transform:"translate(".concat(b,"px, ").concat(x,"px)"),cursor:"move",padding:"8px",margin:"8px"},onMouseDown:function(){return i==null?void 0:i(d(n))},children:c})},Z=_,ee=function(){var e=(0,I.useState)([]),r=N()(e,2),n=r[0],i=r[1],l=(0,I.useRef)({}),c=(0,I.useState)({node0:new M("node0",40,40,20),node1:new M("node1",420,300,30),node2:new M("node2",690,220,40),node3:new M("node3",880,280,40),node4:new M("node4",1180,150,40),node5:new M("node5",1590,230,40)}),u=N()(c,2),o=u[0],d=u[1],f=(0,I.useState)(0),x=N()(f,2),g=x[0],b=x[1];(0,I.useEffect)(function(){var s=0;return Object.entries(l.current).forEach(function(v){var k=N()(v,2),y=k[0],F=k[1];o[y].isBound()?s=1:s=0}),b(s),function(){b(0)}},[]);var m=function(v){Array.isArray(v)?i(v):i([v])},a=function(){n.length>0&&i([])},p=function(v){if(n.length>0){var k=Object.fromEntries(n.map(function(y){var F=o[y];return F.move(v.movementX,v.movementY),[y,F]}));d($()($()({},o),k))}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{margin:"8px"},children:"Drag component to move."}),(0,t.jsxs)("div",{style:{background:"rgb(240,240,240)",height:"600px",width:"100%",overflow:"auto",contain:"paint"},onMouseMove:p,onMouseUp:a,children:[(0,t.jsx)(w,{node:o.node0,onNodeSelected:m,ref:l,moving:n.includes(o.node0.key),children:(0,t.jsx)("div",{style:{background:"rgba(149,191,255,0.5)",border:"solid 1px rgb(0,0,0)",padding:"24px"},children:"Input"})}),(0,t.jsx)(w,{node:o.node1,onNodeSelected:m,ref:l,moving:n.includes(o.node1.key),children:(0,t.jsxs)(R.Z,{direction:"vertical",style:{background:"rgba(240,149,255,0.9)",border:"solid 1px rgb(0,0,0)",width:"100%",height:"100%",padding:"12px"},children:["Step 1",(0,t.jsx)(A.Z,{placeholder:"Data"}),(0,t.jsx)(P.Z,{})]})}),(0,t.jsx)(w,{node:o.node2,onNodeSelected:m,ref:l,moving:n.includes(o.node2.key),children:(0,t.jsx)("div",{style:{background:"rgba(240,149,255,0.9)",border:"solid 1px rgb(0,0,0)",padding:"8px"},children:"step 2"})}),(0,t.jsx)(w,{node:o.node3,onNodeSelected:m,ref:l,moving:n.includes(o.node3.key),children:(0,t.jsx)("div",{style:{background:"rgba(240,149,255,0.9)",border:"solid 1px rgb(0,0,0)",padding:"8px",maxWidth:"200px"},children:(0,t.jsxs)(R.Z,{direction:"vertical",children:["step 3",(0,t.jsx)(A.Z,{placeholder:"Data"}),(0,t.jsx)(B.Z,{})]})})}),(0,t.jsx)(w,{node:o.node4,onNodeSelected:m,ref:l,moving:n.includes(o.node4.key),children:(0,t.jsxs)("div",{style:{background:"rgba(240,149,255,0.9)",border:"solid 1px rgb(0,0,0)",padding:"8px"},children:["step 4",(0,t.jsx)(A.Z,{placeholder:"Data"})]})}),(0,t.jsx)(w,{node:o.node5,onNodeSelected:m,ref:l,moving:n.includes(o.node5.key),children:(0,t.jsx)("div",{style:{background:"rgba(204,255,149,0.5)",border:"solid 1px rgb(0,0,0)",padding:"24px"},children:"Output"})}),g&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j,{startConnector:{node:o.node0,position:"right"},endConnector:{node:o.node1,position:"left"},connectorR:4,connectorStroke:1,edgeStroke:2,connectorFill:"rgb(176,43, 201)"}),(0,t.jsx)(j,{startConnector:{node:o.node0,position:"right"},endConnector:{node:o.node2,position:"left"},connectorR:4,connectorStroke:1,edgeStroke:2,connectorFill:"rgb(176,43, 201)"}),(0,t.jsx)(j,{startConnector:{node:o.node2,position:"right"},endConnector:{node:o.node3,position:"left"},connectorR:4,connectorStroke:1,edgeStroke:2,connectorFill:"rgb(176,43, 201)"}),(0,t.jsx)(j,{startConnector:{node:o.node2,position:"right"},endConnector:{node:o.node4,position:"left"},connectorR:4,connectorStroke:1,edgeStroke:2,connectorFill:"rgb(176,43, 201)"}),(0,t.jsx)(j,{startConnector:{node:o.node3,position:"right",fraction:.6},endConnector:{node:o.node5,position:"left",fraction:.6},connectorR:4,connectorStroke:1,edgeStroke:2,connectorFill:"rgb(176,43, 201)"}),(0,t.jsx)(j,{startConnector:{node:o.node3,position:"right",fraction:.4},endConnector:{node:o.node5,position:"left",fraction:.4},connectorR:4,connectorStroke:1,edgeStroke:2,connectorFill:"rgb(176,43, 201)"})]}),(0,t.jsx)(Z,{title:"Big Process",nodes:[o.node1,o.node2,o.node3,o.node4],onNodeSelected:m}),(0,t.jsx)(Z,{title:"Sub Process",nodes:[o.node2,o.node3],onNodeSelected:m})]}),(0,t.jsxs)("div",{children:["Moving: ",JSON.stringify(n)]}),(0,t.jsxs)("div",{children:[Object.entries(o).map(function(s){var v=N()(s,2),k=v[0],y=v[1];return(0,t.jsxs)("div",{children:[k,": ",JSON.stringify({key:y.key,left:y.left,top:y.top,right:y.right,bottom:y.bottom})]},k)}),(0,t.jsx)("hr",{})]})]})},te=ee}}]);
